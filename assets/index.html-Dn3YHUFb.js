import{_ as a,c as i,b as s,o as n}from"./app-mHmDy0wZ.js";const r={};function t(d,e){return n(),i("div",null,[...e[0]||(e[0]=[s(`<h3 id="问题-容器时间与北京时间相差8个小时" tabindex="-1"><a class="header-anchor" href="#问题-容器时间与北京时间相差8个小时"><span>问题：容器时间与北京时间相差8个小时</span></a></h3><h3 id="原因-宿主机设置了时区-而docker容器并没有设置-导致两者相差8小时" tabindex="-1"><a class="header-anchor" href="#原因-宿主机设置了时区-而docker容器并没有设置-导致两者相差8小时"><span>原因：宿主机设置了时区，而Docker容器并没有设置，导致两者相差8小时</span></a></h3><p>CST应该是指（China Shanghai Time，东八区时间） UTC应该是指（Coordinated Universal Time，标准时间） 所以，这2个时间实际上应该相差8个小时</p><p>所以，必须统一两者的时区</p><p>解决方案：正在运行的容器，可以宿主机直接执行命令给某个容器同步时间</p><h4 id="方法1-直接在宿主机操作" tabindex="-1"><a class="header-anchor" href="#方法1-直接在宿主机操作"><span>#方法1 直接在宿主机操作</span></a></h4><div class="language-markdown line-numbers-mode" data-highlighter="shiki" data-ext="markdown" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-markdown"><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">docker cp /etc/localtime 【容器ID或者NAME】:/etc/localtime</span></span>
<span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">docker cp -L /usr/share/zoneinfo/Asia/Shanghai 【容器ID或者NAME】:/etc/localtime</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="方法2-登录容器同步时区timezone-一般是因为时区不同导致时间差" tabindex="-1"><a class="header-anchor" href="#方法2-登录容器同步时区timezone-一般是因为时区不同导致时间差"><span>#方法2 登录容器同步时区timezone，一般是因为时区不同导致时间差</span></a></h4><div class="language-markdown line-numbers-mode" data-highlighter="shiki" data-ext="markdown" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-markdown"><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">ln -sf /usr/share/zoneinfo/Asia/Singapore /etc/localtime</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>在完成后，再通过date命令进行查看当前时间</p><h4 id="ps" tabindex="-1"><a class="header-anchor" href="#ps"><span>PS</span></a></h4><p>如果出现 “Error response from daemon: Could not find the file /usr/share/zoneinfo/Asia in container 【容器ID或者NAME】” 则说明在名为 “【容器ID或者NAME】” 的容器内部，找不到 “/usr/share/zoneinfo/Asia” 这个文件或目录。</p><p>解决办法 从宿主机复制相关目录到容器内</p><div class="language-markdown line-numbers-mode" data-highlighter="shiki" data-ext="markdown" style="--shiki-light:#393a34;--shiki-dark:#dbd7caee;--shiki-light-bg:#ffffff;--shiki-dark-bg:#121212;"><pre class="shiki shiki-themes vitesse-light vitesse-dark vp-code"><code class="language-markdown"><span class="line"><span style="--shiki-light:#393A34;--shiki-dark:#DBD7CAEE;">docker cp /usr/share/zoneinfo 【容器ID或者NAME】:/usr/share/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div>`,14)])])}const h=a(r,[["render",t]]),o=JSON.parse('{"path":"/blog/puz2qla0/","title":"更改Docker容器时区","lang":"zh-CN","frontmatter":{"title":"更改Docker容器时区","createTime":"2025/10/13 22:35:13","permalink":"/blog/puz2qla0/","tags":["backup"]},"readingTime":{"minutes":1.03,"words":309},"git":{"createdTime":1761750197000,"updatedTime":1761826529000,"contributors":[{"name":"deerwan","username":"deerwan","email":"sunfulai123@gmail.com","commits":2,"avatar":"https://avatars.githubusercontent.com/deerwan?v=4","url":"https://github.com/deerwan"}]},"filePathRelative":"blog/backup/更改Docker容器时区.md","headers":[],"categoryList":[{"id":"402051","sort":10001,"name":"backup"}]}');export{h as comp,o as data};
